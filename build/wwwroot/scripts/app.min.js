!function(){"use strict";angular.module("app",["ngRoute","ui.bootstrap","vcRecaptcha","ngPasswordStrength"]).filter("unsafe",["$sce",function(e){return e.trustAsHtml}])}(),function(){"use strict";function e(){var e=angular.injector(["ng"]),r=e.get("$http");return r.get("api/password").then(function(e){if(t.constant("ViewOptions",e.data),e.data.Recaptcha.IsEnabled===!0){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.defer=!0,r.src="https://www.google.com/recaptcha/api.js?onload=vcRecaptchaApiLoaded&render=explicit&hl="+e.data.Recaptcha.LanguageCode;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}},function(e){})}function r(){angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}var t=angular.module("app");e().then(r)}(),function(){"use strict";angular.module("app").config(["$routeProvider","$locationProvider","ViewOptions",function(e,r,t){e.when("/",{templateUrl:"views/change-password.html",title:t.ChangePasswordTitle}).otherwise({redirectTo:"/"}),r.html5Mode(!0)}])}(),function(){"use strict";angular.module("app").controller("TitleCtrl",["$scope","$route","$location","$routeParams","ViewOptions",function(e,r,t,o,a){var n=this;n.content=a.ApplicationTitle,e.$on("$routeChangeSuccess",function(){n.content=r.current.title+" - "+a.ApplicationTitle})}]).controller("ChangePasswordCtrl",["$scope","$http","$sce","vcRecaptchaService","ViewOptions",function(e,r,t,o,a){e.ViewOptions=a,e.ShowSuccessAlert=!1,e.ShowErrorAlert=!1,e.ErrorAlertMessage="",e.FormData={Username:"",CurrentPassword:"",NewPassword:"",NewPasswordVerify:"",Recaptcha:""},e.htmlPopover=t.trustAsHtml(a.ChangePasswordForm.HelpText),e.EmptyFormData=angular.copy(e.FormData),e.SetRecaptchaResponse=function(r){e.FormData.Recaptcha=r},e.ClearRecaptchaResponse=function(){e.FormData.Recaptcha=""},e.Submit=function(){$("div.form-overlay").show(),$.each(e.Form,function(e,r){r&&void 0!=r.$valid&&(r.Validation={HasError:!1,ErrorMessage:""})}),e.Form.$setUntouched(),e.ShowSuccessAlert=!1,e.ShowErrorAlert=!1,e.ErrorAlertMessage="",r({method:"POST",url:"api/password",data:e.FormData,headers:{"Content-Type":"application/json"}}).then(function(r){$("div.form-overlay").hide(),e.FormData=angular.copy(e.EmptyFormData),e.ShowSuccessAlert=!0},function(r){$("div.form-overlay").hide(),a.Recaptcha.IsEnabled===!0&&grecaptcha.reset(),$.each(r.data.Errors,function(r,t){1==t.ErrorType?(e.ShowErrorAlert=!0,0==t.ErrorCode?e.ErrorAlertMessage=a.Alerts.ErrorAlertBody+t.Message:e.ErrorAlertMessage=a.Alerts.ErrorAlertBody+e.ViewOptions.ErrorMessages[t.ErrorCode]):2==t.ErrorType&&(e.Form[t.FieldName].Validation.HasError=!0,e.Form[t.FieldName].Validation.ErrorMessage=e.ViewOptions.ErrorMessages[t.ErrorCode])})})}}])}();